"use strict";(self.webpackChunklanguageLearningWebsite=self.webpackChunklanguageLearningWebsite||[]).push([[766],{766:(C,c,s)=>{s.r(c),s.d(c,{QuizModule:()=>y});var r=s(177),a=s(9938),t=s(540),d=s(6354),h=s(1626);let f=(()=>{class i{constructor(e){this.http=e,this.URL="assets/db.json"}getAllQuestion(e){return this.http.get(this.URL).pipe((0,d.T)(n=>n[e]))}static{this.\u0275fac=function(n){return new(n||i)(t.KVO(h.Qq))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function g(i,l){1&i&&(t.j41(0,"div",25),t.nrm(1,"span",26),t.k0s())}function p(i,l){if(1&i){const e=t.RV6();t.j41(0,"li",27),t.bIt("click",function(o){t.eBV(e);const u=t.XpG(3);return t.Njj(u.getScore(o))}),t.EFF(1),t.k0s()}if(2&i){const e=l.$implicit;t.R7$(1),t.SpI(" ",e," ")}}function m(i,l){if(1&i&&(t.j41(0,"div",17),t.DNE(1,g,2,0,"div",18),t.j41(2,"div")(3,"h2",19),t.EFF(4),t.k0s()(),t.j41(5,"div",20)(6,"ul",21),t.DNE(7,p,2,1,"li",22),t.k0s()(),t.j41(8,"div",23)(9,"span",24),t.EFF(10),t.k0s()()()),2&i){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",e.flag),t.R7$(3),t.JRh(e.questions[e.currentQuestionIndex].question),t.R7$(3),t.Y8G("ngForOf",e.questions[e.currentQuestionIndex].options),t.R7$(3),t.SpI("Score : ",e.score,"")}}const b=function(i){return{warning:i}};function v(i,l){if(1&i&&(t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.k0s(),t.DNE(3,m,11,4,"div",14),t.j41(4,"div",15)(5,"button",16),t.EFF(6,"Reset The Quiz"),t.k0s()()()),2&i){const e=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(3,b,e.timeLeft<20)),t.R7$(1),t.SpI("Time left: ",e.timeLeft," seconds"),t.R7$(1),t.Y8G("ngIf",e.currentQuestionIndex<e.questions.length)}}const x=[{path:":lan",component:(()=>{class i{constructor(e,n,o){this._quizService=e,this._route=n,this.router=o,this.lang="",this.questions=[],this.score=0,this.flag=!1,this.currentQuestionIndex=0,this.shuffledAnswers=[],this.timeLeft=60,this.timerInterval=null}getQuestions(){this._quizService.getAllQuestion(this.lang).subscribe({next:e=>{this.questions=e}})}startTimer(){this.timerInterval=setInterval(()=>{this.timeLeft>0?this.timeLeft--:(clearInterval(this.timerInterval),this.endQuiz())},1e3)}endQuiz(){this.router.navigate(["/results"],{state:{score:this.score}}),this.updateLocalStorage()}loadQuestion(){this.currentQuestionIndex<this.questions.length?(this.shuffledAnswers.push(this.questions[this.currentQuestionIndex].correct_answer),console.log(this.shuffledAnswers)):(this.router.navigate(["/results"],{state:{score:this.score}}),this.updateLocalStorage())}updateLocalStorage(){localStorage.setItem("score",JSON.stringify(this.score)),localStorage.setItem("numOfQuestions",JSON.stringify(this.questions.length))}getScore(e){const n=e.target;n.textContent?.trim()==this.questions[this.currentQuestionIndex].answer?(n.classList.add("trueAnswer"),n.classList.add("fa-beat"),setTimeout(()=>{n.classList.remove("trueAnswer"),n.classList.remove("fa-beat"),this.flag=!0,setTimeout(()=>{this.currentQuestionIndex++,this.flag=!1,this.loadQuestion(),this.currentQuestionIndex===this.questions.length&&(clearInterval(this.timerInterval),this.endQuiz())},500)},1e3),this.score++):(n.classList.add("falseAnswer"),n.classList.add("fa-beat"),setTimeout(()=>{n.classList.remove("falseAnswer"),n.classList.remove("fa-beat"),this.flag=!0,setTimeout(()=>{this.currentQuestionIndex++,this.flag=!1,this.loadQuestion(),this.currentQuestionIndex===this.questions.length&&(clearInterval(this.timerInterval),this.endQuiz())},500)},1e3))}ngOnInit(){this._route.paramMap.subscribe(e=>{this.lang=e.get("lan")||""}),console.log("language : "+this.lang),this.getQuestions(),this.startTimer()}resetQuiz(){this.score=0,this.currentQuestionIndex=0,this.timeLeft=60,this.shuffledAnswers=[],this.flag=!1,this.getQuestions(),this.startTimer()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(f),t.rXU(a.nX),t.rXU(a.Ix))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-quiz"]],decls:16,vars:1,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center"],["class","w-100",4,"ngIf"],["id","resetModal","tabindex","-1","aria-labelledby","resetModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","resetModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"w-100"],[1,"timer",3,"ngClass"],["class","col-12 bg-white position-relative",4,"ngIf"],[1,"py-3","text-center"],["data-bs-toggle","modal","data-bs-target","#resetModal",1,"btn","btn-primary"],[1,"col-12","bg-white","position-relative"],["class","layer",4,"ngIf"],[1,"mx-2","text-center","py-3"],[1,"p-4"],[1,"list-unstyled","my-answers","d-flex","justify-content-center","flex-wrap","gap-2"],[3,"click",4,"ngFor","ngForOf"],[1,"text-center","py-3"],[1,"score"],[1,"layer"],[1,"loader"],[3,"click"]],template:function(n,o){1&n&&(t.j41(0,"section",0),t.DNE(1,v,7,5,"div",1),t.k0s(),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),t.EFF(7,"Confirm Reset"),t.k0s(),t.nrm(8,"button",7),t.k0s(),t.j41(9,"div",8),t.EFF(10," Are you sure you want to reset the quiz? "),t.k0s(),t.j41(11,"div",9)(12,"button",10),t.EFF(13,"Cancel"),t.k0s(),t.j41(14,"button",11),t.bIt("click",function(){return o.resetQuiz()}),t.EFF(15,"Reset"),t.k0s()()()()()),2&n&&(t.R7$(1),t.Y8G("ngIf",0!==o.questions.length))},dependencies:[r.YU,r.Sq,r.bT],styles:['li[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border:2px solid black;border-radius:30px;text-align:center;width:40%;padding:5px;cursor:pointer;transition:.5s;font-size:20px}.trueAnswer[_ngcontent-%COMP%]{background-color:green!important;color:#fff!important}.falseAnswer[_ngcontent-%COMP%]{background-color:red!important;color:#fff!important}li[_ngcontent-%COMP%]:hover{background-color:#5a5959;color:#fff;border-color:#5a5959}.score[_ngcontent-%COMP%]{color:#464141;font-size:35px}.loader[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;position:relative;animation:_ngcontent-%COMP%_rotate 1s linear infinite}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{content:"";box-sizing:border-box;position:absolute;inset:0;border-radius:50%;border:5px solid #FFF;animation:_ngcontent-%COMP%_prixClipFix 2s linear infinite}.loader[_ngcontent-%COMP%]:after{border-color:#ff3d00;animation:_ngcontent-%COMP%_prixClipFix 2s linear infinite,rotate .5s linear infinite reverse;inset:6px}.layer[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#263038;display:flex;justify-content:center;align-items:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_prixClipFix{0%{clip-path:polygon(50% 50%,0 0,0 0,0 0,0 0,0 0)}25%{clip-path:polygon(50% 50%,0 0,100% 0,100% 0,100% 0,100% 0)}50%{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)}75%{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)}to{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0)}}.timer[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;padding:20px;border-radius:8px;margin-bottom:10px;background-color:#198754}.warning[_ngcontent-%COMP%]{background-color:#ff3d00!important}']})}}return i})(),title:"Quiz"}];let Q=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[a.iI.forChild(x),a.iI]})}}return i})(),y=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[r.MD,Q]})}}return i})()}}]);